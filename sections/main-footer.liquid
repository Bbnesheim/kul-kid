{% assign footer_id = section.id | replace: '_', '' | downcase %}
{% assign default_gradient_colors = '#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57,#ff9ff3,#54a0ff' | split: ',' %}
{% assign gradient_colors = '' %}
{% for default_color in default_gradient_colors %}
  {% assign color_key = 'gradient_color_' | append: forloop.index %}
  {% assign color_value = section.settings[color_key] | default: default_color %}
  {% if gradient_colors != '' %}
    {% assign gradient_colors = gradient_colors | append: ', ' %}
  {% endif %}
  {% assign gradient_colors = gradient_colors | append: color_value %}
{% endfor %}
{% assign gradient_speed = section.settings.gradient_speed | default: 18 %}
{% assign static_bg_color = section.settings.static_bg_color | default: '#334fb4' %}
{% assign text_color = section.settings.master_text_color | default: '#000000' %}
{% assign policy_padding_preset = section.settings.policies_padding_preset | default: 'default' %}
{% assign policy_padding_value = section.settings.policies_side_padding | default: 12 | plus: 0 %}
{% assign policy_padding_mobile_value = section.settings.policies_side_padding_mobile %}
{% case policy_padding_preset %}
  {% when 'compact' %}
    {% assign policy_padding_value = 60 %}
  {% when 'narrow' %}
    {% assign policy_padding_value = 120 %}
  {% when 'extra_narrow' %}
    {% assign policy_padding_value = 180 %}
  {% when 'custom' %}
    {% assign policy_padding_value = section.settings.policies_side_padding | default: 12 | plus: 0 %}
  {% else %}
    {% assign policy_padding_value = 12 %}
{% endcase %}
{% if policy_padding_mobile_value == blank %}
  {% assign policy_padding_mobile_value = policy_padding_value %}
{% else %}
  {% assign policy_padding_mobile_value = policy_padding_mobile_value | plus: 0 %}
{% endif %}

{{- 'kk-section-footer.css' | asset_url | stylesheet_tag -}}
{{- 'kk-component-footer-newsletter.css' | asset_url | stylesheet_tag -}}
{{- 'kk-component-footer-social.css' | asset_url | stylesheet_tag -}}
{{- 'kk-component-footer-links.css' | asset_url | stylesheet_tag -}}
{{- 'kk-component-footer-payments.css' | asset_url | stylesheet_tag -}}

{%- style -%}
  .kk-footer-{{ section.id }} {
    --kk-footer-text-color: {{ text_color }};
    --kk-footer-section-spacing: {{ section.settings.section_spacing }}px;
    --kk-footer-copyright-spacing: {{ section.settings.copyright_top_margin }}px;
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    padding-left: {{ section.settings.footer_padding }}px;
    padding-right: {{ section.settings.footer_padding }}px;
    {% if section.settings.enable_gradient %}
      background: linear-gradient(270deg, {{ gradient_colors }});
      background-size: 1200% 1200%;
      animation: rainbowGradient {{ gradient_speed }}s ease infinite;
    {% else %}
      background-color: {{ static_bg_color }};
    {% endif %}
  }

  @media (max-width: 1024px) {
    .kk-footer-{{ section.id }} {
      padding-left: {{ section.settings.footer_padding | times: 0.8 | round }}px;
      padding-right: {{ section.settings.footer_padding | times: 0.8 | round }}px;
      padding-top: {{ section.settings.padding_top | times: 0.8 | round }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.8 | round }}px;
    }
  }

  @media (max-width: 768px) {
    .kk-footer-{{ section.id }} {
      padding-left: {{ section.settings.footer_padding | times: 0.65 | round }}px;
      padding-right: {{ section.settings.footer_padding | times: 0.65 | round }}px;
      padding-top: {{ section.settings.padding_top | times: 0.65 | round }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.65 | round }}px;
    }
  }
{%- endstyle -%}

<section
  class="kk-footer kk-footer-{{ section.id }}"
  role="contentinfo"
  aria-label="{{ section.settings.footer_aria_label | default: 'Kul Kid footer' }}"
>
  <div class="kk-footer__inner">
    {% assign footer_left_newsletter = '' %}
    {% assign footer_left_social = '' %}
    {% assign footer_center_payments = '' %}
    {% assign footer_center_payments_markup = '' %}
    {% assign footer_right_links = '' %}
    {% assign footer_other_blocks = '' %}

    {% for block in section.blocks %}
      {% if block.type == 'social_icon' %}
        {% continue %}
      {% endif %}
      {% assign block_style_attr = '' %}
      {% assign block_extra_class = '' %}
      {% assign normalized_block_type = block.type %}
      {% if block.type == 'newsletter_block' %}
        {% assign normalized_block_type = 'newsletter' %}
      {% endif %}
      {% if block.type == 'social_icons' or block.type == 'social' %}
        {% assign social_spacing_bottom_setting = block.settings.social_spacing_bottom | default: 32 | plus: 0 %}
        {% assign block_style_attr = ' style="--footer-social-block-spacing: ' | append: social_spacing_bottom_setting | append: 'px;"' %}
        {% assign block_extra_class = ' footer-social' %}
      {% endif %}
      {% capture block_markup %}
        <div class="kk-footer__block footer__block--{{ normalized_block_type }}{{ block_extra_class }}"{% if block_style_attr != '' %}{{ block_style_attr }}{% endif %} {{ block.shopify_attributes }}>
          {% case normalized_block_type %}
            {% when 'newsletter' %}
              {% render 'kk-footer-newsletter', 
                block: block, 
                newsletter_success_fallback: section.settings.newsletter_success_fallback,
                newsletter_block_width: block.settings.newsletter_block_width 
              %}

            {% when 'link_group' %}
              {% render 'kk-footer-link-group', block: block %}

            {% when 'social_icons', 'social' %}
              {% render 'kk-footer-social-icons', 
                block: block,
                section_blocks: section.blocks
              %}
              {% if block.settings.amex_icon != blank %}
                {% assign show_amex_icon = true %}
              {% endif %}
              {% if block.settings.paypal_icon != blank %}
                {% assign show_paypal_icon = true %}
              {% endif %}
              {% if block.settings.apple_pay_icon != blank %}
                {% assign show_apple_pay_icon = true %}
              {% endif %}
              {% if block.settings.klarna_icon != blank %}
                {% assign show_klarna_icon = true %}
              {% endif %}

              <div class="kk-footer-payments kk-footer__payments" style="--kk-footer-payments-size: {{ icon_height }}px; --kk-footer-payments-size-mobile: {{ icon_height_mobile }}px;">
                {% if show_visa_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.visa_icon != blank %}
                      <img src="{{ block.settings.visa_icon | image_url }}" alt="Visa" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'visa' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if show_mastercard_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.mastercard_icon != blank %}
                      <img src="{{ block.settings.mastercard_icon | image_url }}" alt="Mastercard" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'mastercard' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if show_amex_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.amex_icon != blank %}
                      <img src="{{ block.settings.amex_icon | image_url }}" alt="American Express" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'amex' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if show_paypal_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.paypal_icon != blank %}
                      <img src="{{ block.settings.paypal_icon | image_url }}" alt="PayPal" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'paypal' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if show_apple_pay_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.apple_pay_icon != blank %}
                      <img src="{{ block.settings.apple_pay_icon | image_url }}" alt="Apple Pay" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'apple_pay' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if show_klarna_icon %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    {% if block.settings.klarna_icon != blank %}
                      <img src="{{ block.settings.klarna_icon | image_url }}" alt="Klarna" class="kk-footer__icon" loading="eager" decoding="auto">
                    {% else %}
                      {% render 'icon-payment', name: 'klarna' %}
                    {% endif %}
                  </div>
                {% endif %}

                {% if block.settings.custom_payment_svg != blank %}
                  {% assign render_payment_icon = render_payment_icon | plus: 1 %}
                  <div class="kk-footer__payment-item">
                    <img src="{{ block.settings.custom_payment_svg | image_url }}" alt="{{ block.settings.custom_payment_label | default: 'Tilleggsbetaling' | escape }}" class="kk-footer__icon" loading="eager" decoding="auto">
                  </div>
                {% endif %}

                {% if render_payment_icon == 0 %}
                  <span class="kk-footer__text" style="--footer-text-size: {{ empty_state_size }}px;">Aktiver betalingsikoner i blokkinnstillingene.</span>
                {% endif %}
              </div>
          {% endcase %}
        </div>
      {% endcapture %}

      {% case normalized_block_type %}
        {% when 'newsletter' %}
          {% capture footer_left_newsletter %}{{ footer_left_newsletter }}{{ block_markup }}{% endcapture %}
        {% when 'social_icons' %}
          {% capture footer_left_social %}{{ footer_left_social }}{{ block_markup }}{% endcapture %}
        {% when 'social' %}
          {% capture footer_left_social %}{{ footer_left_social }}{{ block_markup }}{% endcapture %}
        {% when 'payments' %}
          {% capture footer_center_payments %}{{ footer_center_payments }}{{ block_markup }}{% endcapture %}
        {% when 'link_group' %}
          {% capture footer_right_links %}{{ footer_right_links }}{{ block_markup }}{% endcapture %}
        {% else %}
          {% capture footer_other_blocks %}{{ footer_other_blocks }}{{ block_markup }}{% endcapture %}
      {% endcase %}
    {% endfor %}

    {% assign footer_left_content = footer_left_newsletter | append: footer_left_social %}
    {% assign footer_left_content = footer_left_content | strip %}
    {% assign footer_right_content = footer_right_links | append: footer_other_blocks %}
    {% assign footer_right_content = footer_right_content | strip %}
    {% assign footer_layout_classes = 'kk-footer__layout' %}
    {% if footer_left_content == '' or footer_right_content == '' %}
      {% assign footer_layout_classes = footer_layout_classes | append: ' footer__layout--single-column' %}
    {% endif %}

    {% if footer_left_content != '' or footer_right_content != '' %}
      <div class="{{ footer_layout_classes }}">
        {% if footer_left_content != '' %}
          <div class="kk-footer__column footer__column--left">
            {{ footer_left_newsletter }}
            {{ footer_left_social }}
          </div>
        {% endif %}
        {% if footer_right_content != '' %}
          <div class="kk-footer__column footer__column--right">
            {% if footer_right_links != '' %}
              <div class="kk-footer__link-columns">
                {{ footer_right_links }}
              </div>
            {% endif %}
            {{ footer_other_blocks }}
          </div>
        {% endif %}
      </div>
    {% endif %}

    {% if footer_center_payments != '' %}
      {% assign footer_center_payments_markup = footer_center_payments %}
    {% endif %}

    {% if footer_center_payments_markup != '' %}
      <div class="kk-footer__payments-wrapper footer-payments-wrapper">
        {{ footer_center_payments_markup }}
      </div>
    {% endif %}

    <div
      class="kk-footer__policies"
      style="
        --kk-policy-bottom-margin: {{ section.settings.policies_bottom_margin | default: 20 | plus: 0 }}px;
        --kk-policy-gap-desktop: {{ section.settings.policy_gap_desktop | default: 12 | plus: 0 }}px;
        --kk-policy-font-desktop: {{ section.settings.policy_font_size_desktop | default: 14 | plus: 0 }}px;
        --kk-policy-gap-mobile: {{ section.settings.policy_gap_mobile | default: 10 | plus: 0 }}px;
        --kk-policy-font-mobile: {{ section.settings.policy_font_size_mobile | default: 12 | plus: 0 }}px;
        --kk-policy-padding-inline: {{ policy_padding_value | plus: 0 }}px;
        --kk-policy-padding-inline-mobile: {{ policy_padding_mobile_value | plus: 0 }}px;
      "
    >
      {% assign policy_count = 0 %}

      {% if shop.privacy_policy %}
        <a href="{{ shop.privacy_policy.url }}">{{ shop.privacy_policy.title }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if shop.terms_of_service %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ shop.terms_of_service.url }}">{{ shop.terms_of_service.title }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if shop.refund_policy %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ shop.refund_policy.url }}">{{ shop.refund_policy.title }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if shop.shipping_policy %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ shop.shipping_policy.url }}">{{ shop.shipping_policy.title }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if shop.subscription_policy %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ shop.subscription_policy.url }}">{{ shop.subscription_policy.title }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if section.settings.cookie_preferences_link != blank %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ section.settings.cookie_preferences_link }}">{{ section.settings.cookie_preferences_text | default: 'Informasjonskapsler' }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if section.settings.contact_info_link != blank %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ section.settings.contact_info_link }}">{{ section.settings.contact_info_text | default: 'Kontaktinformasjon' }}</a>
        {% assign policy_count = policy_count | plus: 1 %}
      {% endif %}

      {% if section.settings.legal_notice_link != blank %}
        {% if policy_count > 0 %}<span class="kk-footer__policy-separator">•</span>{% endif %}
        <a href="{{ section.settings.legal_notice_link }}">{{ section.settings.legal_notice_text | default: 'Juridiske retningslinjer' }}</a>
      {% endif %}
    </div>

    <div class="kk-footer__copyright">
      {{ section.settings.copyright_text | default: '© ' | append: shop.name | append: ' ' | append: now | date: '%Y' }}
    </div>
  </div>
</section>

<script>
  (function () {
    const footerSection = document.querySelector('.kk-footer-{{ section.id }}');
    if (!footerSection) return;

    const accordions = footerSection.querySelectorAll('[data-footer-accordion]');
    if (!accordions.length) return;

    const mobileQuery = window.matchMedia('(max-width: 768px)');

    const syncAccordionState = (isMobile) => {
      accordions.forEach((accordion) => {
        const toggle = accordion.querySelector('[data-footer-accordion-toggle]');
        const panel = accordion.querySelector('[data-footer-accordion-panel]');

        if (!toggle || !panel) {
          return;
        }

        if (isMobile) {
          if (!toggle.dataset.footerAccordionMobileInit) {
            toggle.setAttribute('aria-expanded', 'false');
            panel.hidden = true;
            toggle.dataset.footerAccordionMobileInit = 'true';
          }
        } else {
          toggle.setAttribute('aria-expanded', 'true');
          panel.hidden = false;
          delete toggle.dataset.footerAccordionMobileInit;
        }
      });
    };

    const handleAccordionToggle = (event) => {
      if (!mobileQuery.matches) {
        return;
      }

      const toggle = event.currentTarget;
      const accordion = toggle.closest('[data-footer-accordion]');
      const panel = accordion ? accordion.querySelector('[data-footer-accordion-panel]') : null;

      if (!panel) {
        return;
      }

      const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
      panel.hidden = isExpanded;
    };

    accordions.forEach((accordion) => {
      const toggle = accordion.querySelector('[data-footer-accordion-toggle]');
      if (!toggle) {
        return;
      }

      toggle.addEventListener('click', handleAccordionToggle);
    });

    const handleMediaChange = (event) => {
      syncAccordionState(event.matches);
    };

    syncAccordionState(mobileQuery.matches);

    if (typeof mobileQuery.addEventListener === 'function') {
      mobileQuery.addEventListener('change', handleMediaChange);
    } else if (typeof mobileQuery.addListener === 'function') {
      mobileQuery.addListener(handleMediaChange);
    }
  })();
</script>

{% schema %}
{
  "name": "KUL KID Main Footer",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Bakgrunn"
    },
    {
      "type": "checkbox",
      "id": "enable_gradient",
      "label": "Aktiver animert bakgrunn",
      "default": true
    },
    {
      "type": "color",
      "id": "static_bg_color",
      "label": "Statisk bakgrunnsfarge",
      "default": "#334fb4"
    },
    {
      "type": "range",
      "id": "gradient_speed",
      "label": "Animasjonslengde",
      "min": 5,
      "max": 30,
      "step": 1,
      "unit": "s",
      "default": 15
    },
    {
      "type": "range",
      "id": "gradient_direction",
      "label": "Gradientretning",
      "min": 0,
      "max": 360,
      "step": 5,
      "unit": "°",
      "default": 45
    },
    {
      "type": "range",
      "id": "gradient_size",
      "label": "Gradientstørrelse",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "%",
      "default": 400
    },
    {
      "type": "color",
      "id": "gradient_color_1",
      "label": "Gradientfarge 1",
      "default": "#ff6b6b"
    },
    {
      "type": "color",
      "id": "gradient_color_2",
      "label": "Gradientfarge 2",
      "default": "#4ecdc4"
    },
    {
      "type": "color",
      "id": "gradient_color_3",
      "label": "Gradientfarge 3",
      "default": "#45b7d1"
    },
    {
      "type": "color",
      "id": "gradient_color_4",
      "label": "Gradientfarge 4",
      "default": "#96ceb4"
    },
    {
      "type": "color",
      "id": "gradient_color_5",
      "label": "Gradientfarge 5",
      "default": "#feca57"
    },
    {
      "type": "color",
      "id": "gradient_color_6",
      "label": "Gradientfarge 6",
      "default": "#ff9ff3"
    },
    {
      "type": "color",
      "id": "gradient_color_7",
      "label": "Gradientfarge 7",
      "default": "#54a0ff"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "color",
      "id": "master_text_color",
      "label": "Hovedtekstfarge",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding topp",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bunn",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "footer_padding",
      "label": "Ytre padding",
      "min": 20,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_spacing",
      "label": "Avstand under innhold",
      "min": 0,
      "max": 60,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "text",
      "id": "footer_aria_label",
      "label": "Aria-label for footer",
      "default": "Kul Kid footer"
    },
    {
      "type": "header",
      "content": "Retningslinjer"
    },
    {
      "type": "url",
      "id": "cookie_preferences_link",
      "label": "Lenke til informasjonskapsler"
    },
    {
      "type": "text",
      "id": "cookie_preferences_text",
      "label": "Tekst for informasjonskapsler"
    },
    {
      "type": "url",
      "id": "contact_info_link",
      "label": "Lenke til kontaktinformasjon"
    },
    {
      "type": "text",
      "id": "contact_info_text",
      "label": "Tekst for kontaktinformasjon"
    },
    {
      "type": "url",
      "id": "legal_notice_link",
      "label": "Lenke til juridiske retningslinjer"
    },
    {
      "type": "text",
      "id": "legal_notice_text",
      "label": "Tekst for juridiske retningslinjer"
    },
    {
      "type": "range",
      "id": "policies_bottom_margin",
      "label": "Avstand ved policy-rad",
      "min": 10,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "policies_padding_preset",
      "label": "Forhåndsvalg for side-padding",
      "default": "default",
      "options": [
        {
          "value": "default",
          "label": "Standard (12px)"
        },
        {
          "value": "compact",
          "label": "Kompakt (60px)"
        },
        {
          "value": "narrow",
          "label": "Smal (120px)"
        },
        {
          "value": "extra_narrow",
          "label": "Ekstra smal (180px)"
        },
        {
          "value": "custom",
          "label": "Egendefinert (bruk slider)"
        }
      ]
    },
    {
      "type": "range",
      "id": "policies_side_padding",
      "label": "Side-padding (egendefinert verdi)",
      "min": 0,
      "max": 240,
      "step": 4,
      "unit": "px",
      "default": 12,
      "info": "Brukes når \"Egendefinert\" er valgt over."
    },
    {
      "type": "range",
      "id": "policies_side_padding_mobile",
      "label": "Side-padding på mobil",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "policy_font_size_desktop",
      "label": "Policy skriftstørrelse (desktop)",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "policy_font_size_mobile",
      "label": "Policy skriftstørrelse (mobil)",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "range",
      "id": "policy_gap_desktop",
      "label": "Avstand mellom policies (desktop)",
      "min": 4,
      "max": 48,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "policy_gap_mobile",
      "label": "Avstand mellom policies (mobil)",
      "min": 2,
      "max": 48,
      "step": 1,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "copyright_top_margin",
      "label": "Avstand før opphavsrett",
      "min": 10,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Egendefinert opphavsrettstekst"
    },
    {
      "type": "text",
      "id": "newsletter_success_fallback",
      "label": "Standard suksessmelding",
      "default": "Tusen takk! Sjekk innboksen din."
    }
  ],
  "blocks": [
    {
      "type": "newsletter_block",
      "name": "Nyhetsbrev",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Overskrift",
          "default": "Bli med i klubben!"
        },
        {
          "type": "range",
          "id": "heading_font_size",
          "label": "Skriftstørrelse overskrift",
          "min": 16,
          "max": 48,
          "step": 1,
          "unit": "px",
          "default": 28
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Beskrivelse",
          "default": "<p>Meld deg på Kul Kid-klubben og få eksklusive fordeler, lanseringer og tilbud rett i innboksen.</p>"
        },
        {
          "type": "range",
          "id": "description_font_size",
          "label": "Skriftstørrelse beskrivelse",
          "min": 14,
          "max": 26,
          "step": 1,
          "unit": "px",
          "default": 16
        },
        {
          "type": "image_picker",
          "id": "club_icon",
          "label": "Klubbikon"
        },
        {
          "type": "text",
          "id": "club_icon_alt",
          "label": "Alt-tekst for ikon",
          "default": "Kul Kid klubbikon"
        },
        {
          "type": "range",
          "id": "club_icon_width",
          "label": "Maks bredde på ikon",
          "min": 80,
          "max": 240,
          "step": 10,
          "unit": "px",
          "default": 160
        },
        {
          "type": "range",
          "id": "newsletter_block_width",
          "label": "Bredde på nyhetsbrevblokk",
          "min": 400,
          "max": 1000,
          "step": 20,
          "unit": "px",
          "default": 700
        },
        {
          "type": "range",
          "id": "club_icon_width_mobile",
          "label": "Maks bredde på ikon (mobil)",
          "min": 80,
          "max": 240,
          "step": 10,
          "unit": "px",
          "default": 140
        },
        {
          "type": "range",
          "id": "newsletter_padding_top",
          "label": "Topp-padding (px)",
          "min": 0,
          "max": 100,
          "step": 4,
          "default": 24
        },
        {
          "type": "range",
          "id": "newsletter_padding_bottom",
          "label": "Bunn-padding (px)",
          "min": 0,
          "max": 100,
          "step": 4,
          "default": 24
        },
        {
          "type": "range",
          "id": "action_spacing_desktop",
          "label": "Avstand over skjema (desktop)",
          "min": 0,
          "max": 80,
          "step": 2,
          "unit": "px",
          "default": 16
        },
        {
          "type": "range",
          "id": "action_spacing_mobile",
          "label": "Avstand over skjema (mobil)",
          "min": 0,
          "max": 80,
          "step": 2,
          "unit": "px",
          "default": 12
        },
        {
          "type": "text",
          "id": "email_placeholder",
          "label": "Plassholder for e-post",
          "default": "Din e-postadresse"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Knappetekst",
          "default": "Få 15% nå"
        },
        {
          "type": "range",
          "id": "button_font_size",
          "label": "Skriftstørrelse knapp",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "default": 15
        },
        {
          "type": "text",
          "id": "success_message",
          "label": "Suksessmelding",
          "default": "Tusen takk! Sjekk innboksen din."
        }
      ]
    },
    {
      "type": "link_group",
      "name": "Lenkegruppe",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Overskrift",
          "default": "Om Kul Kid"
        },
        {
          "type": "range",
          "id": "heading_size",
          "label": "Skriftstørrelse overskrift",
          "min": 14,
          "max": 36,
          "step": 1,
          "unit": "px",
          "default": 20
        },
        {
          "type": "range",
          "id": "link_size",
          "label": "Skriftstørrelse lenker",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "default": 15
        },
        {
          "type": "range",
          "id": "link_spacing",
          "label": "Linjeavstand",
          "min": 4,
          "max": 32,
          "step": 1,
          "unit": "px",
          "default": 12
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Navigasjonsmeny"
        },
        {
          "type": "checkbox",
          "id": "show_all_collections",
          "label": "Vis kolleksjoner når meny mangler",
          "default": false
        },
        {
          "type": "range",
          "id": "collection_limit",
          "label": "Antall kolleksjoner",
          "min": 3,
          "max": 12,
          "step": 1,
          "default": 6
        },
        {
          "type": "text",
          "id": "view_all_label",
          "label": "Lenketekst for \"Se alle\""
        },
        {
          "type": "url",
          "id": "view_all_url",
          "label": "Lenke for \"Se alle\""
        }
      ]
    },
    {
      "type": "social_icons",
      "name": "Sosiale ikoner",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Overskrift",
          "default": "Følg oss"
        },
        {
          "type": "range",
          "id": "heading_size",
          "label": "Skriftstørrelse overskrift",
          "min": 14,
          "max": 36,
          "step": 1,
          "unit": "px",
          "default": 20
        },
        {
          "type": "url",
          "id": "instagram_url",
          "label": "Instagram-lenke"
        },
        {
          "type": "image_picker",
          "id": "instagram_icon",
          "label": "Eget Instagram-ikon"
        },
        {
          "type": "url",
          "id": "facebook_url",
          "label": "Facebook-lenke"
        },
        {
          "type": "image_picker",
          "id": "facebook_icon",
          "label": "Eget Facebook-ikon"
        },
        {
          "type": "url",
          "id": "tiktok_url",
          "label": "TikTok-lenke"
        },
        {
          "type": "image_picker",
          "id": "tiktok_icon",
          "label": "Eget TikTok-ikon"
        },
        {
          "type": "url",
          "id": "spotify_url",
          "label": "Spotify-lenke"
        },
        {
          "type": "image_picker",
          "id": "spotify_icon",
          "label": "Eget Spotify-ikon"
        },
        {
          "type": "url",
          "id": "youtube_link",
          "label": "YouTube-lenke"
        },
        {
          "type": "image_picker",
          "id": "youtube_icon",
          "label": "Eget YouTube-ikon"
        },
        {
          "type": "range",
          "id": "social_icon_size",
          "label": "Ikonstørrelse",
          "min": 16,
          "max": 48,
          "step": 2,
          "unit": "px",
          "default": 28
        },
        {
          "type": "range",
          "id": "social_icon_gap",
          "label": "Avstand mellom ikoner",
          "min": 0,
          "max": 40,
          "step": 2,
          "unit": "px",
          "default": 12
        },
        {
          "type": "range",
          "id": "social_icon_size_mobile",
          "label": "Ikonstørrelse (mobil)",
          "min": 12,
          "max": 40,
          "step": 2,
          "unit": "px",
          "default": 24
        },
        {
          "type": "range",
          "id": "social_icon_gap_mobile",
          "label": "Avstand mellom ikoner (mobil)",
          "min": 0,
          "max": 32,
          "step": 2,
          "unit": "px",
          "default": 10
        },
        {
          "type": "range",
          "id": "social_spacing_bottom",
          "label": "Ekstra avstand under blokk",
          "min": 0,
          "max": 120,
          "step": 4,
          "unit": "px",
          "default": 32
        }
      ]
    },
    {
      "type": "social_icon",
      "name": "Sosialt ikon",
      "settings": [
        {
          "type": "select",
          "id": "platform",
          "label": "Plattform",
          "options": [
            { "value": "instagram", "label": "Instagram" },
            { "value": "facebook", "label": "Facebook" },
            { "value": "tiktok", "label": "TikTok" },
            { "value": "spotify", "label": "Spotify" },
            { "value": "youtube", "label": "YouTube" },
            { "value": "custom", "label": "Annen plattform" }
          ],
          "default": "instagram"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Lenke"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Eget ikon (valgfritt)"
        },
        {
          "type": "checkbox",
          "id": "enable_gradient",
          "label": "Bruk fargegradient ved hover",
          "default": true
        }
      ]
    },
    {
      "type": "payments",
      "name": "Betalingsikoner",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Overskrift",
          "default": "Vi aksepterer"
        },
        {
          "type": "range",
          "id": "heading_size",
          "label": "Skriftstørrelse overskrift",
          "min": 14,
          "max": 36,
          "step": 1,
          "unit": "px",
          "default": 20
        },
        {
          "type": "range",
          "id": "icon_height",
          "label": "Høyde på ikoner",
          "min": 12,
          "max": 48,
          "step": 2,
          "unit": "px",
          "default": 28
        },
        {
          "type": "range",
          "id": "icon_height_mobile",
          "label": "Høyde på ikoner (mobil)",
          "min": 10,
          "max": 40,
          "step": 2,
          "unit": "px",
          "default": 24
        },
        {
          "type": "range",
          "id": "payments_icon_gap",
          "label": "Avstand mellom ikoner",
          "min": 0,
          "max": 40,
          "step": 2,
          "unit": "px",
          "default": 12
        },
        {
          "type": "range",
          "id": "payments_icon_gap_mobile",
          "label": "Avstand mellom ikoner (mobil)",
          "min": 0,
          "max": 32,
          "step": 2,
          "unit": "px",
          "default": 10
        },
        {
          "type": "checkbox",
          "id": "show_visa",
          "label": "Vis Visa",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "visa_icon",
          "label": "Eget Visa-ikon"
        },
        {
          "type": "checkbox",
          "id": "show_mastercard",
          "label": "Vis Mastercard",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "mastercard_icon",
          "label": "Eget Mastercard-ikon"
        },
        {
          "type": "checkbox",
          "id": "show_amex",
          "label": "Vis American Express",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "amex_icon",
          "label": "Eget American Express-ikon"
        },
        {
          "type": "checkbox",
          "id": "show_paypal",
          "label": "Vis PayPal",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "paypal_icon",
          "label": "Eget PayPal-ikon"
        },
        {
          "type": "checkbox",
          "id": "show_apple_pay",
          "label": "Vis Apple Pay",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "apple_pay_icon",
          "label": "Eget Apple Pay-ikon"
        },
        {
          "type": "checkbox",
          "id": "show_klarna",
          "label": "Vis Klarna",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "klarna_icon",
          "label": "Eget Klarna-ikon"
        },
        {
          "type": "image_picker",
          "id": "custom_payment_svg",
          "label": "Ekstra betalingsikon"
        },
        {
          "type": "text",
          "id": "custom_payment_label",
          "label": "Alt-tekst for ekstra ikon"
        },
        {
          "type": "range",
          "id": "payments_spacing_bottom",
          "label": "Avstand under ikoner",
          "min": 0,
          "max": 80,
          "step": 2,
          "unit": "px",
          "default": 24
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Kul Kid Main Footer",
      "blocks": [
        {
          "type": "newsletter_block"
        },
        {
          "type": "link_group",
          "settings": {
            "heading": "Om Kul Kid"
          }
        },
        {
          "type": "link_group",
          "settings": {
            "heading": "Kategorier",
            "show_all_collections": true,
            "collection_limit": 6,
            "view_all_label": "Se alle kategoriene",
            "view_all_url": "/collections"
          }
        },
        {
          "type": "link_group",
          "settings": {
            "heading": "Hjelp & Service"
          }
        },
        {
          "type": "social_icons"
        },
        {
          "type": "social_icon",
          "settings": {
            "platform": "instagram"
          }
        },
        {
          "type": "social_icon",
          "settings": {
            "platform": "facebook"
          }
        },
        {
          "type": "social_icon",
          "settings": {
            "platform": "tiktok"
          }
        },
        {
          "type": "social_icon",
          "settings": {
            "platform": "spotify"
          }
        },
        {
          "type": "social_icon",
          "settings": {
            "platform": "youtube"
          }
        },
        {
          "type": "payments"
        }
      ]
    }
  ]
}
{% endschema %}
